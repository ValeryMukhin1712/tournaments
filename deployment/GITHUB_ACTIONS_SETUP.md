# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è

## üìã –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

‚úÖ Workflow —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω: `.github/workflows/deploy.yml.disabled`  
‚è∏Ô∏è **–ù–µ–∞–∫—Ç–∏–≤–µ–Ω** (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `.disabled`)

---

## üîÑ –ê–∫—Ç–∏–≤–∞—Ü–∏—è GitHub Actions

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ SSH –∫–ª—é—á–∞ –¥–ª—è GitHub Actions

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (PuTTY) –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**

```bash
# –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π SSH –∫–ª—é—á –¥–ª—è GitHub Actions
ssh-keygen -t ed25519 -C "github-actions@quick-score" -f ~/.ssh/github_actions_key -N ""

# –î–æ–±–∞–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ authorized_keys
cat ~/.ssh/github_actions_key.pub >> ~/.ssh/authorized_keys

# –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–Å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ)
cat ~/.ssh/github_actions_key
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –≤—ã–≤–æ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã** (–Ω–∞—á–∏–Ω–∞—è —Å `-----BEGIN OPENSSH PRIVATE KEY-----`).

---

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Secrets –≤ GitHub

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/ValeryMukhin1712/quick-score
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
3. –ù–∞–∂–º–∏—Ç–µ **New repository secret**

**–°–æ–∑–¥–∞–π—Ç–µ –¥–≤–∞ secret:**

#### Secret 1: `SERVER_HOST`
- **Name**: `SERVER_HOST`
- **Value**: `quickscore.sytes.net` (–∏–ª–∏ `89.19.44.212`)

#### Secret 2: `SSH_PRIVATE_KEY`
- **Name**: `SSH_PRIVATE_KEY`
- **Value**: *–≤—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á*

---

### –®–∞–≥ 3: –ê–∫—Ç–∏–≤–∞—Ü–∏—è Workflow

**–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:**

```bash
# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ñ–∞–π–ª (—É–±—Ä–∞—Ç—å .disabled)
git mv .github/workflows/deploy.yml.disabled .github/workflows/deploy.yml

# –ö–æ–º–º–∏—Ç –∏ push
git add .github/workflows/deploy.yml
git commit -m "Enable GitHub Actions deployment"
git push
```

**GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è!**

---

### –®–∞–≥ 4: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ Webhook (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/ValeryMukhin1712/quick-score/settings/hooks
2. –ù–∞–π–¥–∏—Ç–µ webhook –¥–ª—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
3. –ù–∞–∂–º–∏—Ç–µ **Edit** ‚Üí **Disable** –∏–ª–∏ **Delete**

---

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–µ–ø–ª–æ—è

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–µ–ø–ª–æ—è:

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/ValeryMukhin1712/quick-score/actions
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π workflow run
3. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://github.com/ValeryMukhin1712/quick-score/actions
2. –í—ã–±–µ—Ä–∏—Ç–µ **Deploy to VDS**
3. –ù–∞–∂–º–∏—Ç–µ **Run workflow** ‚Üí **Run workflow**

---

## üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ Webhook

–ï—Å–ª–∏ –∑–∞—Ö–æ—Ç–∏—Ç–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ Webhook:

```bash
# –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å GitHub Actions
git mv .github/workflows/deploy.yml .github/workflows/deploy.yml.disabled
git commit -m "Disable GitHub Actions, using Webhook"
git push

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å Webhook –≤ GitHub Settings ‚Üí Webhooks
```

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ GitHub Actions

‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ  
‚úÖ **–ò—Å—Ç–æ—Ä–∏—è –¥–µ–ø–ª–æ–µ–≤** - –≤–∏–¥–Ω—ã –≤—Å–µ –∑–∞–ø—É—Å–∫–∏  
‚úÖ **Rollback** - –ª–µ–≥–∫–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é –≤–µ—Ä—Å–∏—é  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–µ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—ã  
‚úÖ **–¢–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã  
‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã** - –ª–µ–≥–∫–æ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤  

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –î–µ–ø–ª–æ–π –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –§–∞–π–ª –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `deploy.yml` (–±–µ–∑ `.disabled`)
2. –§–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `.github/workflows/`
3. Secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –û—à–∏–±–∫–∞ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. `SSH_PRIVATE_KEY` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–π –∫–ª—é—á (—Å BEGIN/END)
2. `SERVER_HOST` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ `~/.ssh/authorized_keys` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
sudo systemctl status tournaments
sudo journalctl -u tournaments -n 50
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ü–∏—é `test` –≤ `deploy.yml`.

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram

–î–æ–±–∞–≤—å—Ç–µ step –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram –±–æ—Ç–∞.

### –î–µ–ø–ª–æ–π –Ω–∞ staging –∏ production

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–∑–Ω—ã–µ environments –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ç–æ–∫.

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π workflow –¥–ª—è GitHub Actions, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç! üöÄ

