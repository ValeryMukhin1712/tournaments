# üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Dev –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –®–∞–≥ 1: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –° –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# 1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
scp deployment/scripts/setup_dev_environment.sh deploy@–≤–∞—à_—Å–µ—Ä–≤–µ—Ä:~/setup_dev_environment.sh

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é systemd –¥–ª—è dev
scp deployment/systemd/tournaments-dev.service deploy@–≤–∞—à_—Å–µ—Ä–≤–µ—Ä:~/tournaments-dev.service

# 3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π dev)
scp deployment/nginx/tournaments_with_dev.conf deploy@–≤–∞—à_—Å–µ—Ä–≤–µ—Ä:~/tournaments_with_dev.conf
```

**–í–∞–∂–Ω–æ**: –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à_—Å–µ—Ä–≤–µ—Ä` –Ω–∞ IP –∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `132742` –∏–ª–∏ –ø–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å).

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# 1. –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x ~/setup_dev_environment.sh

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
~/setup_dev_environment.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–∑–¥–∞—Å—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `/home/deploy/quick-score-dev`
- –°–∫–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –°–æ–∑–¥–∞—Å—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –°–æ–∑–¥–∞—Å—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –ù–∞—Å—Ç—Ä–æ–∏—Ç systemd —Å–µ—Ä–≤–∏—Å –Ω–∞ –ø–æ—Ä—Ç—É 5001

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

### –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
sudo cp /etc/nginx/sites-available/tournaments.conf /etc/nginx/sites-available/tournaments.conf.backup

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo cp ~/tournaments_with_dev.conf /etc/nginx/sites-available/tournaments.conf

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nginx -t

# 4. –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Nginx
sudo systemctl restart nginx
```

## –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤:

```bash
# Production —Å–µ—Ä–≤–∏—Å
sudo systemctl status tournaments

# Dev —Å–µ—Ä–≤–∏—Å
sudo systemctl status tournaments-dev
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã:

```bash
netstat -tuln | grep -E "5000|5001"
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
- `0.0.0.0:5000` - Production
- `127.0.0.1:5001` - Development

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

- Production: `https://quickscore.sytes.net/`
- Development: `https://quickscore.sytes.net/new_dev`

## –®–∞–≥ 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ dev –≤–µ—Ä—Å–∏–∏ (–∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ)

–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥:

```bash
cd ~/quick-score-dev
git pull origin main
source venv/bin/activate
pip install -r requirements.txt
sudo systemctl restart tournaments-dev
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∫—Ä–∏–ø—Ç –Ω–µ –º–æ–∂–µ—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ GitHub:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
git ls-remote https://github.com/ValeryMukhin1712/quick-score.git
```

–ï—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –≤—Ä—É—á–Ω—É—é:
```bash
# –° –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
scp -r . deploy@–≤–∞—à_—Å–µ—Ä–≤–µ—Ä:~/quick-score-dev
```

### –ü—Ä–æ–±–ª–µ–º–∞: Nginx –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 502 –¥–ª—è /new_dev

**–†–µ—à–µ–Ω–∏–µ**: 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ dev —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω:
   ```bash
   sudo systemctl status tournaments-dev
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   sudo journalctl -u tournaments-dev -n 50
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç:
   ```bash
   netstat -tuln | grep 5001
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

**–†–µ—à–µ–Ω–∏–µ**: –û—á–∏—Å—Ç–∏—Ç–µ –ª–æ–≥–∏ –∏ –∫—ç—à:
```bash
sudo journalctl --vacuum-time=7d
sudo apt clean
```

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å dev –≤–µ—Ä—Å–∏—é (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–∞)
sudo systemctl stop tournaments-dev

# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev –≤–µ—Ä—Å–∏—é
sudo systemctl start tournaments-dev

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ dev –≤–µ—Ä—Å–∏–∏
sudo journalctl -u tournaments-dev -f

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
~/check_server_resources.sh
```

---

**–ì–æ—Ç–æ–≤–æ!** –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç:
- Production: `https://quickscore.sytes.net/`
- Development: `https://quickscore.sytes.net/new_dev`

