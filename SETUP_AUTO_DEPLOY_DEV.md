# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –¥–ª—è Development –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üìã –û–±–∑–æ—Ä

–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–µ–ø–ª–æ—è –¥–ª—è Development –æ–∫—Ä—É–∂–µ–Ω–∏—è (`/new_dev`), –∫–æ—Ç–æ—Ä–∞—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–µ—Ç–∫–µ `dev` –Ω–∞ GitHub –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

## üîÑ –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

1. **–õ–æ–∫–∞–ª—å–Ω–æ**: –ü—É—à –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –≤–µ—Ç–∫—É `dev` –Ω–∞ GitHub
2. **–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ**: Cron –∑–∞–¥–∞—á–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–µ—Ç–∫–µ `dev`
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**: –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–µ–ø–ª–æ–π

## üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –®–∞–≥ 1: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ dev –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ –≤–µ—Ç–∫—É dev

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd /home/deploy/quick-score-dev

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –≤–µ—Ç–∫—É dev
git fetch origin dev
git checkout dev

# –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–µ—Ç–∫–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç origin/dev
git branch --set-upstream-to=origin/dev dev
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –¥–µ–ø–ª–æ—è

–°–∫—Ä–∏–ø—Ç `deploy_dev.sh` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ `dev`.

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è

1. **–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤** (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω–∞):
   ```bash
   mkdir -p /home/deploy/logs
   ```

2. **–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º**:
   ```bash
   chmod +x /home/deploy/quick-score-dev/deployment/scripts/auto_deploy_dev.sh
   ```

3. **–î–æ–±–∞–≤—å—Ç–µ cron –∑–∞–¥–∞—á—É**:
   ```bash
   crontab -e
   ```

4. **–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É** (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç):
   ```cron
   */5 * * * * /home/deploy/quick-score-dev/deployment/scripts/auto_deploy_dev.sh >> /home/deploy/logs/auto_deploy_dev.log 2>&1
   ```

   –ò–ª–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):
   ```cron
   * * * * * /home/deploy/quick-score-dev/deployment/scripts/auto_deploy_dev.sh >> /home/deploy/logs/auto_deploy_dev.log 2>&1
   ```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ cron**:
   ```bash
   tail -f /home/deploy/logs/auto_deploy_dev.log
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ cron –∑–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞**:
   ```bash
   crontab -l
   ```

3. **–°–¥–µ–ª–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–º–∏—Ç –≤ –≤–µ—Ç–∫—É dev** –∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ –¥–æ 5 –º–∏–Ω—É—Ç (–∏–ª–∏ 1 –º–∏–Ω—É—Ç—É, –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É).

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è:
```bash
tail -f /home/deploy/logs/auto_deploy_dev.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞:
```bash
sudo systemctl status tournaments-dev
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```bash
sudo journalctl -u tournaments-dev -f
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Production –∏ Development

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Production | Development |
|----------|-----------|-------------|
| **–í–µ—Ç–∫–∞ GitHub** | `main` | `dev` |
| **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è** | `/home/deploy/quick-score` | `/home/deploy/quick-score-dev` |
| **–ü–æ—Ä—Ç** | 5000 | 5001 |
| **URL** | `https://quickscore.sytes.net/` | `https://quickscore.sytes.net/new_dev` |
| **–°–µ—Ä–≤–∏—Å** | `tournaments` | `tournaments-dev` |
| **–ê–≤—Ç–æ–¥–µ–ø–ª–æ–π** | Webhook/GitHub Actions | Cron (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç) |

## üõ†Ô∏è –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é:

```bash
cd /home/deploy/quick-score-dev
./deployment/scripts/deploy_dev.sh
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–µ –ø—É—à–∏—Ç—å –≤ `main`** - —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç Production
2. **–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è dev** –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –≤ –≤–µ—Ç–∫—É `dev`
3. **–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ dev** –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å merge –≤ `main` –¥–ª—è Production
4. **Cron –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è –Ω–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

## üîÑ Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–õ–æ–∫–∞–ª—å–Ω–æ**: –†–∞–±–æ—Ç–∞–µ—Ç–µ –Ω–∞–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
2. **–ö–æ–º–º–∏—Ç –∏ –ø—É—à –≤ `dev`**:
   ```bash
   git checkout dev
   git add .
   git commit -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
   git push origin dev
   ```
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**: –ß–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç (–∏–ª–∏ –º–µ–Ω—å—à–µ) –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è –Ω–∞ `/new_dev`
4. **–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: –ï—Å–ª–∏ –≤—Å—ë —Ö–æ—Ä–æ—à–æ, –º–æ–∂–Ω–æ —Å–º–µ—Ä–∂–∏—Ç—å –≤ `main`:
   ```bash
   git checkout main
   git merge dev
   git push origin main
   ```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f /home/deploy/logs/auto_deploy_dev.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ cron: `crontab -l`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Å–∫—Ä–∏–ø—Ç: `ls -l /home/deploy/quick-score-dev/deployment/scripts/auto_deploy_dev.sh`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é: `bash /home/deploy/quick-score-dev/deployment/scripts/auto_deploy_dev.sh`

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ pull

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd /home/deploy/quick-score-dev
git fetch origin dev
git reset --hard origin/dev
```

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∫—Ä–∏–ø—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

**–†–µ—à–µ–Ω–∏–µ:**
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:
```bash
grep APP_DIR /home/deploy/quick-score-dev/deployment/scripts/auto_deploy_dev.sh
```

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –≤–µ—Ç–∫—É `dev`, –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—å—Å—è –Ω–∞ `/new_dev` –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç.

