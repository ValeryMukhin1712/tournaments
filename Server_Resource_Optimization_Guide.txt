# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –æ—á–∏—Å—Ç–∫–µ –ø–∞–º—è—Ç–∏ –Ω–∞ VDS —Å–µ—Ä–≤–µ—Ä–µ

## üéØ –¶–µ–ª—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ VDS —Å–µ—Ä–≤–µ—Ä–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç—å—é (366MB) –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è "–¢—É—Ä–Ω–∏—Ä–Ω—ã–π –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç".

## üìä –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º

### üö® –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç—å—é:
- **Out of Memory (OOM) Kill** - —Å–∏—Å—Ç–µ–º–∞ —É–±–∏–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –∏–∑-–∑–∞ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏
- **–í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏** - 90%+ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è RAM
- **–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞** - —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å swap
- **–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–∞–¥–∞—é—Ç –∏–∑-–∑–∞ –Ω–µ—Ö–≤–∞—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤

### üìà –ù–∞—à —Å–ª—É—á–∞–π (–¥–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏):
- **–û–±—â–∞—è –ø–∞–º—è—Ç—å:** 366MB
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** 356MB (97%)
- **–°–≤–æ–±–æ–¥–Ω–æ:** 2.7MB (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –º–∞–ª–æ!)
- **–î–æ—Å—Ç—É–ø–Ω–æ:** 10MB (–æ—á–µ–Ω—å –º–∞–ª–æ!)

## üîß –ü–æ—à–∞–≥–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### 1. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
free -h

# –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é –ø–∞–º—è—Ç–∏
ps aux --sort=-%mem | head -10

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º
ps aux --sort=-%mem | head -5 | awk '{print $2, $4, $11}' | column -t

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è swap
swapon -s
```

### 2. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

#### 2.1 Docker (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
sudo systemctl stop docker
sudo systemctl stop docker.socket

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
sudo systemctl disable docker
sudo systemctl disable docker.socket

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status docker
```

#### 2.2 unattended-upgrades (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl stop unattended-upgrades

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
sudo systemctl disable unattended-upgrades

# –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑–∞–ø—É—Å–∫)
sudo systemctl mask unattended-upgrades

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–±–∏–π—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (–µ—Å–ª–∏ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è)
sudo pkill -9 -f unattended-upgrade
```

#### 2.3 multipathd (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl stop multipathd
sudo systemctl stop multipathd.socket

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
sudo systemctl disable multipathd
sudo systemctl disable multipathd.socket
```

#### 2.4 apt-daily —Å–µ—Ä–≤–∏—Å—ã
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∞–π–º–µ—Ä–æ–≤
sudo systemctl stop apt-daily.timer
sudo systemctl stop apt-daily-upgrade.timer

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl stop apt-daily.service
sudo systemctl stop apt-daily-upgrade.service

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
sudo systemctl disable apt-daily.timer
sudo systemctl disable apt-daily-upgrade.timer

# –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl mask apt-daily.timer
sudo systemctl mask apt-daily-upgrade.timer
sudo systemctl mask apt-daily.service
sudo systemctl mask apt-daily-upgrade.service
```

### 3. –û—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏

```bash
# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–µ–π —Å–∏—Å—Ç–µ–º—ã
sudo sync && echo 3 | sudo tee /proc/sys/vm/drop_caches

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
free -h
```

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### 4.1 –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Gunicorn
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
cat > /home/tournament-admin/tournaments/gunicorn_optimized.conf.py << 'EOF'
# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç—å—é
bind = "127.0.0.1:5000"
workers = 1  # –£–º–µ–Ω—å—à–µ–Ω–æ —Å 2 –¥–æ 1
worker_class = "sync"
timeout = 60
keepalive = 1
max_requests = 100  # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ worker'–∞ –ø–æ—Å–ª–µ 100 –∑–∞–ø—Ä–æ—Å–æ–≤
max_requests_jitter = 10  # –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
preload_app = False  # –û—Ç–∫–ª—é—á–∞–µ–º –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫—É –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏
worker_tmp_dir = "/dev/shm"  # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
worker_connections = 100
EOF
```

#### 4.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞
```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞
sudo nano /etc/systemd/system/tournament-app.service
```

**–ù–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
```ini
[Unit]
Description=Tournament App
After=network.target

[Service]
Type=exec
User=tournament-admin
Group=tournament-admin
WorkingDirectory=/home/tournament-admin/tournaments
Environment=PATH=/home/tournament-admin/tournaments/venv/bin
ExecStart=/home/tournament-admin/tournaments/venv/bin/gunicorn --config gunicorn_optimized.conf.py app:app
Restart=always
RestartSec=15
# –°—Ç—Ä–æ–≥–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
MemoryLimit=80M
CPUQuota=30%
TasksMax=30

[Install]
WantedBy=multi-user.target
```

#### 4.3 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ systemd
sudo systemctl daemon-reload

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo systemctl start tournament-app

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status tournament-app
```

### 5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

#### 5.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ swappiness
```bash
# –£–≤–µ–ª–∏—á–µ–Ω–∏–µ swappiness –¥–ª—è –±–æ–ª–µ–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è swap
echo 'vm.swappiness=60' | sudo tee -a /etc/sysctl.conf

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
sudo sysctl -p
```

#### 5.2 –û—á–∏—Å—Ç–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
```bash
# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ apt
sudo apt clean
sudo apt autoremove -y
sudo apt autoclean

# –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
sudo rm -rf /tmp/*
sudo rm -rf /var/tmp/*
```

#### 5.3 –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤
```bash
# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤
sudo journalctl --vacuum-time=7d

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ Nginx
sudo truncate -s 0 /var/log/nginx/*.log
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
cat > /home/tournament-admin/monitor_resources.sh << 'EOF'
#!/bin/bash
echo "=== –ú–û–ù–ò–¢–û–†–ò–ù–ì –†–ï–°–£–†–°–û–í ==="
echo "–í—Ä–µ–º—è: $(date)"
echo ""
echo "=== –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ ==="
free -h
echo ""
echo "=== –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ –ø–∞–º—è—Ç–∏ ==="
ps aux --sort=-%mem | head -8
echo ""
echo "=== –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ==="
sudo systemctl status tournament-app --no-pager 2>/dev/null || echo "–°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—â–µ–Ω"
echo ""
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤ ==="
sudo netstat -tlnp | grep -E ':(80|443|5000)' || echo "–ü–æ—Ä—Ç—ã –Ω–µ —Å–ª—É—à–∞—é—Ç—Å—è"
echo ""
echo "=== –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ ==="
df -h | head -5
EOF

chmod +x /home/tournament-admin/monitor_resources.sh
```

### 2. –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
free -h

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux --sort=-%mem | head -10

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl status tournament-app nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
sudo journalctl -u tournament-app -n 20

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
sudo netstat -tlnp | grep -E ':(80|443|5000)'
```

## üö® –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

### 1. –ü—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –Ω–µ—Ö–≤–∞—Ç–∫–µ –ø–∞–º—è—Ç–∏
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –Ω–µ–Ω—É–∂–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl stop tournament-app
sudo systemctl stop nginx

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–±–∏–π—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
sudo pkill -9 -f unattended-upgrade
sudo pkill -9 -f docker

# –û—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏
sudo sync && echo 3 | sudo tee /proc/sys/vm/drop_caches

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
free -h
```

### 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ OOM Kill
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ OOM
sudo dmesg | grep -i "killed process"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo systemctl restart tournament-app

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status tournament-app
```

### 3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ –ø–∞–º—è—Ç–∏
sudo reboot

# –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ - –ø—Ä–æ–≤–µ—Ä–∫–∞
free -h
sudo systemctl status tournament-app
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### üìä –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **–ü–∞–º—è—Ç—å:** 356MB (97% –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- **–°–≤–æ–±–æ–¥–Ω–æ:** 2.7MB (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –º–∞–ª–æ)
- **OOM Kill:** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–±–∏–≤–∞–ª–æ—Å—å —Å–∏—Å—Ç–µ–º–æ–π
- **–ü—Ä–æ—Ü–µ—Å—Å—ã:** 2 Gunicorn workers + Docker + unattended-upgrade

### üìä –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **–ü–∞–º—è—Ç—å:** 221MB (60% –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- **–°–≤–æ–±–æ–¥–Ω–æ:** 145MB (40% —Å–≤–æ–±–æ–¥–Ω–æ)
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- **–ü—Ä–æ—Ü–µ—Å—Å—ã:** 1 Gunicorn worker, –Ω–µ–Ω—É–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –æ—Ç–∫–ª—é—á–µ–Ω—ã

### üéâ –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:
- **–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ:** 135MB –ø–∞–º—è—Ç–∏
- **–£–ª—É—á—à–µ–Ω–∏–µ:** –≤ 54 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ —Å–≤–æ–±–æ–¥–Ω–æ–π –ø–∞–º—è—Ç–∏
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –Ω–µ—Ç OOM Kill
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ

## üîÑ –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
/home/tournament-admin/monitor_resources.sh

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤
sudo journalctl --vacuum-time=7d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl status tournament-app nginx
```

### –ï–∂–µ–º–µ—Å—è—á–Ω–æ:
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –û—á–∏—Å—Ç–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
sudo apt autoremove -y
sudo apt autoclean

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
df -h
```

### –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:
```bash
# –û—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏
sudo sync && echo 3 | sudo tee /proc/sys/vm/drop_caches

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo systemctl restart tournament-app

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –Ω–∞ –æ—à–∏–±–∫–∏
sudo journalctl -u tournament-app -n 50
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- [ ] Docker –æ—Ç–∫–ª—é—á–µ–Ω (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- [ ] unattended-upgrades –æ—Ç–∫–ª—é—á–µ–Ω –∏ –∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω
- [ ] multipathd –æ—Ç–∫–ª—é—á–µ–Ω (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- [ ] apt-daily —Å–µ—Ä–≤–∏—Å—ã –æ—Ç–∫–ª—é—á–µ–Ω—ã

### ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
- [ ] Gunicorn –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å 1 worker'–æ–º
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

### ‚úÖ –°–∏—Å—Ç–µ–º–∞:
- [ ] –ü–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞
- [ ] –ö—ç—à–∏ –æ—á–∏—â–µ–Ω—ã
- [ ] –õ–æ–≥–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- [ ] –°–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ–∑–¥–∞–Ω
- [ ] –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ê–ª–µ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–µ

### 1. –†–µ–≥—É–ª—è—Ä–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

### 2. –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
- –û—á–∏—â–∞–π—Ç–µ –∫—ç—à–∏ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
- –£–¥–∞–ª—è–π—Ç–µ —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 3. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –£—á–∏—Ç—ã–≤–∞–π—Ç–µ —Ä–æ—Å—Ç –¥–∞–Ω–Ω—ã—Ö
- –ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ç—Ä–µ–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üöÄ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç—å—é –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –°–ª–µ–¥—É—è —ç—Ç–æ–º—É —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É, –≤—ã —Å–º–æ–∂–µ—Ç–µ:

- **–û—Å–≤–æ–±–æ–¥–∏—Ç—å 135MB –ø–∞–º—è—Ç–∏** (37% –æ—Ç –æ–±—â–µ–≥–æ –æ–±—ä–µ–º–∞)
- **–£—Å—Ç—Ä–∞–Ω–∏—Ç—å OOM Kill** –∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- **–ü–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –≤ 54 —Ä–∞–∑–∞
- **–û–±–µ—Å–ø–µ—á–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ü–æ–º–Ω–∏—Ç–µ:** –†–µ–≥—É–ª—è—Ä–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ - –∫–ª—é—á –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞!

---
*–°–æ–∑–¥–∞–Ω–æ: 09.10.2025*
*–í–µ—Ä—Å–∏—è: 1.0*
*–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞: –¢—É—Ä–Ω–∏—Ä–Ω—ã–π –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç v2.1*
*–¢–∏–ø —Å–µ—Ä–≤–µ—Ä–∞: VDS Ubuntu —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç—å—é*
*–°—Ç–∞—Ç—É—Å: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç*
